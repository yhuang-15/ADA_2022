{
  "version": 3,
  "output_encoding": "json",
  "name": "lab7APIex",
  "port": 8081,
  "endpoints": [
    {
      "endpoint": "/orders",
      "method": "POST",
      "output_encoding": "json",
      "backend": [
        {
          "host": ["gcppubsub://"],
          "disable_host_sanitize": true,
          "extra_config": {
            "backend/pubsub/publisher": {
              "topic_url": "projects/jads-de-2021/topics/order_req"
              }
          }
        }
      ]
    },
    {
      "endpoint": "/orders",
      "method": "GET",
      "output_encoding": "json",
      "backend": [
        {
          "host": ["gcppubsub://"],
          "disable_host_sanitize": true,
          "extra_config": {
            "backend/pubsub/subscriber": {
              "subscription_url": "projects/jads-de-2021/subscriptions/order_status_user"
              }
          }
        }
      ],
      "extra_config": {
        "proxy": {
          "static": {
            "strategy": "incomplete",
            "data": {
              "message": "No order yet. Try later!"
            }
          }
        }
      }
    }
  ]
}